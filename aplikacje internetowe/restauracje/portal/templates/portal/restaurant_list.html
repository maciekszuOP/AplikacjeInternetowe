{% load static %}
<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <title>Lista restauracji</title>
    <link rel="stylesheet" href="{% static 'css/style.css' %}">
</head>
<body>

<h1>Lista restauracji</h1>

<form method="get">
    <input type="text" name="name" placeholder="Szukaj po nazwie" value="{{ request.GET.name }}">
    <input type="text" name="city" placeholder="Szukaj po mieÅ›cie" value="{{ request.GET.city }}">
    <select name="menu">
        <option value="">-- menu --</option>
        <option value="polska" {% if request.GET.menu == "polska" %}selected{% endif %}>polska</option>
        <option value="wÅ‚oska" {% if request.GET.menu == "wÅ‚oska" %}selected{% endif %}>wÅ‚oska</option>
        <option value="tajska" {% if request.GET.menu == "tajska" %}selected{% endif %}>tajska</option>
        <option value="chiÅ„ska" {% if request.GET.menu == "chiÅ„ska" %}selected{% endif %}>chiÅ„ska</option>
        <option value="japoÅ„ska" {% if request.GET.menu == "japoÅ„ska" %}selected{% endif %}>japoÅ„ska</option>
        <option value="francuska" {% if request.GET.menu == "francuska" %}selected{% endif %}>francuska</option>
        <option value="fast food" {% if request.GET.menu == "fast food" %}selected{% endif %}>fast food</option>
        <option value="wegaÅ„ska" {% if request.GET.menu == "wegaÅ„ska" %}selected{% endif %}>wegaÅ„ska</option>
        <option value="amerykaÅ„ska" {% if request.GET.menu == "amerykaÅ„ska" %}selected{% endif %}>amerykaÅ„ska</option>
    </select>
    <select name="sort">
        <option value="name" {% if request.GET.sort == "name" %}selected{% endif %}>Sortuj A-Z</option>
        <option value="-name" {% if request.GET.sort == "-name" %}selected{% endif %}>Sortuj Z-A</option>
    </select>
    <button type="submit">ğŸ” Filtruj</button>
</form>

<div class="grid">
    {% for r in restaurants %}
        <a href="{% url 'restaurant_detail' r.pk %}" class="card-link">
            <div class="card">
                <h3>{{ r.name }}</h3>
                <p>{{ r.menu_type }} â€“ {{ r.city }}</p>
                <span class="stars">{{ r.rating_stars }}</span>
                <small>({{ r.average_rating }})</small>
            </div>
        </a>
    {% empty %}
        <p>Brak wynikÃ³w.</p>
    {% endfor %}
</div>

</body>
</html>
